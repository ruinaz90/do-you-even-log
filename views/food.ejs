<%- include("partials/header.ejs") %>
<%- include("partials/nav.ejs") %>
<%- include("partials/container.ejs") %>

<h1 class="text-3xl mb-4">Food</h1>

<p><a href="/food/add" class="inline-block bg-dyelred2 px-4 py-2 mb-2 rounded-lg text-sm font-semibold text-white hover:bg-red-700">Add food</a></p>

<section class="grid lg:grid-cols-3 sm:grid-cols-1 gap-4">
<!-- loop through dates in exercise list -->
    <% for(let date of food) { %>
        <div class="bg-white rounded drop-shadow-md border border-gray-200 p-2">
            <!-- display date -->
            <h2 class="text-sm font-medium text-dyelred2"><%= date['_id'] %></h2>
            <h3 class="text-lg font-medium">Breakfast</h3>
            <% for(let foodItem of date['records']) { %>
                <% if(foodItem['meal'] == "Breakfast") { %>
                    <p class="text-sm text-gray-500 text-base whitespace-pre-line"><%= foodItem['food'] %></p>
                    <p class="text-sm text-gray-500 text-base whitespace-pre-line"><%= foodItem['calories'] %></p>
                    <p class="mt-1.5 mb-2"><a href="/food/edit/<%= foodItem['_id'] %>" class="inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold">Edit</a></p>
                <% } %>
            <% } %>

            <h3 class="text-lg font-medium">Lunch</h3>
            <% for(let foodItem of date['records']) { %>
                <% if(foodItem['meal'] == "Lunch") { %>
                    <p class="text-sm text-gray-500 text-base whitespace-pre-line"><%= foodItem['food'] %></p>
                    <p class="text-sm text-gray-500 text-base whitespace-pre-line"><%= foodItem['calories'] %></p>
                    <p class="mt-1.5 mb-2"><a href="/food/edit/<%= foodItem['_id'] %>" class="inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold">Edit</a></p>
                <% } %>
            <% } %>

            <h3 class="text-lg font-medium">Dinner</h3>
            <% for(let foodItem of date['records']) { %>
                <% if(foodItem['meal'] == "Dinner") { %>
                    <p class="text-sm text-gray-500 text-base whitespace-pre-line"><%= foodItem['food'] %></p>
                    <p class="text-sm text-gray-500 text-base whitespace-pre-line"><%= foodItem['calories'] %></p>
                    <p class="mt-1.5 mb-2"><a href="/food/edit/<%= foodItem['_id'] %>" class="inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold">Edit</a></p>
                <% } %>
            <% } %>

            <h3 class="text-lg font-medium">Snacks</h3>
            <% for(let foodItem of date['records']) { %>
                <% if(foodItem['meal'] == "Snacks") { %>
                    <p class="text-sm text-gray-500 text-base whitespace-pre-line"><%= foodItem['food'] %></p>
                    <p class="text-sm text-gray-500 text-base whitespace-pre-line"><%= foodItem['calories'] %></p>
                    <p class="mt-1.5 mb-2"><a href="/food/edit/<%= foodItem['_id'] %>" class="inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold">Edit</a></p>
                <% } %>
            <% } %>
        </div>
    <% } %>
</section>

<%- include("partials/container-bottom.ejs") %>
<%- include("partials/footer.ejs") %>